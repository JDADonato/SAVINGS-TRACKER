<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Savings Tracker Pro</title>
    <meta name="theme-color" content="#0f172a">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192.png">
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        dark: '#0f172a', card: '#1e293b', primary: '#f472b6',
                        secondary: '#a78bfa', accent: '#22d3ee', success: '#34d399',
                        danger: '#fb7185', warning: '#fbbf24', gold: '#fbbf24', text: '#f1f5f9'
                    },
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    animation: { 'slide-up': 'slideUp 0.3s ease-out', 'fade-in': 'fadeIn 0.2s ease-out' },
                    keyframes: {
                        slideUp: { '0%': { transform: 'translateY(100%)', opacity: '0' }, '100%': { transform: 'translateY(0)', opacity: '1' } },
                        fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } }
                    }
                }
            }
        }
    </script>
    <style>
        body { background-color: #0f172a; color: #f1f5f9; user-select: none; -webkit-tap-highlight-color: transparent; }
        .glass { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.08); }
        .btn-grad { background-image: linear-gradient(to right, #f472b6 0%, #a78bfa 51%, #f472b6 100%); transition: 0.5s; background-size: 200% auto; }
        .btn-grad:hover { background-position: right center; }
        .btn-gold { background-image: linear-gradient(to right, #f59e0b 0%, #fbbf24 51%, #f59e0b 100%); color: #000; transition: 0.5s; background-size: 200% auto; }
        input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
        .toggle-checkbox:checked { right: 0; border-color: #68D391; }
        .toggle-checkbox:checked + .toggle-label { background-color: #68D391; }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useMemo } = React;

        // ==========================================
        // üîß SETUP: PASTE YOUR URL HERE
        // ==========================================
        const API_URL = "https://script.google.com/macros/s/AKfycbxNWva9ujwZpl4bIfDDs6X2PAaOYASbabuBDUQwYCf6domAvcUa9QWQxAx-1WE0ibrTzA/exec"; 

        // --- COMPONENTS ---
        const Toast = ({ message, type, onClose }) => {
            useEffect(() => { const t = setTimeout(onClose, 3000); return () => clearTimeout(t); }, [onClose]);
            return (
                <div className={`fixed bottom-6 left-1/2 transform -translate-x-1/2 z-[60] animate-slide-up flex items-center gap-3 px-6 py-3 rounded-full shadow-2xl glass border ${type === 'success' ? 'border-success/50 text-success' : 'border-danger/50 text-danger'}`}>
                    <span className="text-lg">{type === 'success' ? '‚úì' : '‚ö†'}</span>
                    <span className="font-medium text-sm text-white">{message}</span>
                </div>
            );
        };

        const Modal = ({ isOpen, title, children, onConfirm, onCancel, confirmText = "Confirm", isDanger = false, showCancel = true }) => {
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in">
                    <div className="absolute inset-0 bg-black/80 backdrop-blur-sm" onClick={onCancel}></div>
                    <div className="glass relative z-50 w-full max-w-sm p-6 rounded-2xl shadow-2xl border border-white/10 max-h-[90vh] overflow-y-auto">
                        <h3 className="text-xl font-bold text-white mb-4 text-center">{title}</h3>
                        <div className="text-gray-300 text-sm mb-6">{children}</div>
                        <div className="flex gap-3">
                            {showCancel && <button onClick={onCancel} className="flex-1 py-2 rounded-xl text-sm font-medium text-gray-400 hover:bg-white/5">Cancel</button>}
                            <button onClick={onConfirm} className={`flex-1 py-2 rounded-xl text-sm font-bold text-white shadow-lg hover:opacity-90 ${isDanger ? 'bg-red-500' : 'bg-gradient-to-r from-primary to-secondary'}`}>{confirmText}</button>
                        </div>
                    </div>
                </div>
            );
        };

        const NumberInput = ({ value, onChange, placeholder, disabled }) => {
            const update = (val) => { const num = parseFloat(val) || 0; if (num < 0) return; onChange(num); };
            return (
                <div className={`relative flex items-center w-full border rounded-lg group transition-colors ${disabled ? 'bg-gray-800 border-gray-700 opacity-50 cursor-not-allowed' : 'bg-dark/50 border-gray-600 focus-within:border-accent'}`}>
                    <button disabled={disabled} onClick={() => update(parseFloat(value||0) - 5)} className="px-3 text-gray-400 hover:text-white font-bold border-r border-gray-700 py-2 disabled:cursor-not-allowed">-</button>
                    <input disabled={disabled} type="number" value={value} placeholder={placeholder} onChange={(e) => update(e.target.value)} className="w-full bg-transparent text-center text-sm py-2 text-white outline-none appearance-none disabled:cursor-not-allowed"/>
                    <button disabled={disabled} onClick={() => update(parseFloat(value||0) + 5)} className="px-3 text-gray-400 hover:text-white font-bold border-l border-gray-700 py-2 disabled:cursor-not-allowed">+</button>
                </div>
            );
        };

        // --- CHART COMPONENT ---
        const SavingsChart = ({ history, currentSavings, weeksPassed }) => {
            const canvasRef = useRef(null);
            
            useEffect(() => {
                if(!canvasRef.current) return;
                const ctx = canvasRef.current.getContext('2d');
                
                // Prepare Data
                const labels = Array.from({length: weeksPassed + 1}, (_, i) => `W${i}`);
                // Accumulate savings from history
                let runningTotal = 0;
                const dataPoints = [0]; // Start at 0
                
                history.slice().sort((a,b) => a.week - b.week).forEach(h => {
                    runningTotal += h.savedExtra; // Add daily savings
                    // Add base savings (approx 1275 per week)
                    runningTotal += 1275; 
                    dataPoints.push(runningTotal);
                });

                // Add current week (if not finished)
                if (dataPoints.length <= weeksPassed) dataPoints.push(currentSavings);

                const chart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Total Savings',
                            data: dataPoints,
                            borderColor: '#a78bfa',
                            backgroundColor: 'rgba(167, 139, 250, 0.2)',
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: { legend: { display: false } },
                        scales: {
                            y: { grid: { color: 'rgba(255,255,255,0.1)' }, ticks: { color: '#9ca3af' } },
                            x: { grid: { display: false }, ticks: { color: '#9ca3af' } }
                        }
                    }
                });
                return () => chart.destroy();
            }, [history, currentSavings, weeksPassed]);

            return <canvas ref={canvasRef}></canvas>;
        };

        // --- MAIN APP ---
        const App = () => {
            // SETTINGS STATE
            const [config, setConfig] = useState(() => {
                const savedConfig = localStorage.getItem('savings_config');
                // Default Config + merge for new keys (enableChart)
                const defaults = {
                    dailyLimit: 335,
                    weeklyAllowance: 670,
                    semesterWeeks: 33,
                    baseGoal: 42081,
                    commuteCost: 155,
                    startDate: '2025-12-01',
                    enableChart: true
                };
                return savedConfig ? { ...defaults, ...JSON.parse(savedConfig) } : defaults;
            });

            // CHART COLLAPSE STATE
            const [isChartCollapsed, setIsChartCollapsed] = useState(() => {
                const savedState = localStorage.getItem('savings_chart_collapsed');
                return savedState === 'true'; // Default false (expanded)
            });

            const [isLoading, setIsLoading] = useState(true);
            const [saveStatus, setSaveStatus] = useState('saved'); 
            const [viewWeek, setViewWeek] = useState(1);
            
            const [data, setData] = useState({
                currentWeek: 1,
                totalUnplanned: 0,
                history: [],
                unplannedHistory: [],
                days: [
                    { id: 1, food: '', commute: config.commuteCost, isDone: false, carryOver: false, isSkipped: false },
                    { id: 2, food: '', commute: config.commuteCost, isDone: false, carryOver: false, isSkipped: false }
                ]
            });

            const [spendModalOpen, setSpendModalOpen] = useState(false);
            const [settingsOpen, setSettingsOpen] = useState(false);
            const [spendAmount, setSpendAmount] = useState('');
            const [spendReason, setSpendReason] = useState('');
            const [tempConfig, setTempConfig] = useState(config);

            const [toast, setToast] = useState(null);
            const [modal, setModal] = useState(null);

            // --- LOAD ---
            useEffect(() => {
                const load = async () => {
                    const localData = localStorage.getItem('savings_tracker_pro');
                    if (localData) {
                        const parsed = JSON.parse(localData);
                        setData(parsed);
                        setViewWeek(parsed.currentWeek);
                    }
                    if(!API_URL.includes("PASTE_YOUR")) {
                        try {
                            const response = await fetch(API_URL);
                            const cloudData = await response.json();
                            if (cloudData) setData(prev => ({ ...prev, ...cloudData })); 
                        } catch (e) { console.log("Offline mode"); }
                    }
                    setIsLoading(false);
                };
                load();
            }, []);

            // --- SAVE ---
            const isFirstRender = useRef(true);
            useEffect(() => {
                if (isFirstRender.current) { isFirstRender.current = false; return; }
                setSaveStatus('unsaved');
                localStorage.setItem('savings_tracker_pro', JSON.stringify(data));
                localStorage.setItem('savings_config', JSON.stringify(config));
                localStorage.setItem('savings_chart_collapsed', isChartCollapsed);
                
                const timeoutId = setTimeout(async () => {
                    setSaveStatus('saving');
                    if(!API_URL.includes("PASTE_YOUR")) {
                        try { await fetch(API_URL, { method: 'POST', mode: 'no-cors', headers: {'Content-Type': 'application/json'}, body: JSON.stringify(data) }); } catch (e) {}
                    }
                    setTimeout(() => setSaveStatus('saved'), 500); 
                }, 1000);
                return () => clearTimeout(timeoutId);
            }, [data, config, isChartCollapsed]);

            // --- STATS ---
            const stats = useMemo(() => {
                let totalSavedExtra = 0;
                data.history.forEach(h => totalSavedExtra += (h.savedExtra || 0));

                let daysToCalc = data.days;
                if (viewWeek < data.currentWeek) {
                    const pastWeek = data.history.find(h => h.week === viewWeek);
                    if (pastWeek && pastWeek.days) daysToCalc = pastWeek.days;
                }

                let spentThisWeek = 0;
                let lockedWeeklySavings = 0;
                daysToCalc.forEach(d => {
                    const dailyTotal = (parseFloat(d.food)||0) + (parseFloat(d.commute)||0);
                    if(d.isDone) {
                        spentThisWeek += dailyTotal;
                        if(!d.carryOver) lockedWeeklySavings += Math.max(0, config.dailyLimit - dailyTotal);
                    } else if(dailyTotal > 0) spentThisWeek += dailyTotal;
                });
                
                const remaining = config.weeklyAllowance - spentThisWeek - lockedWeeklySavings;
                const weeksPassed = data.currentWeek - 1;
                const weeklyBaseSavings = (64000 - (config.weeklyAllowance * config.semesterWeeks)) / config.semesterWeeks; 
                
                const currentSavings = (weeksPassed * weeklyBaseSavings) + totalSavedExtra - data.totalUnplanned;
                const projectedTotal = config.baseGoal + totalSavedExtra + lockedWeeklySavings - data.totalUnplanned;

                return { spentThisWeek, remaining, currentSavings, projectedTotal, weeksPassed };
            }, [data, viewWeek, config]);

            // --- ACTIONS ---
            const updateDay = (id, updates) => {
                if (viewWeek === data.currentWeek) {
                    setData(prev => ({ ...prev, days: prev.days.map(d => d.id === id ? { ...d, ...updates } : d) }));
                } else {
                    setData(prev => ({
                        ...prev, history: prev.history.map(h => h.week === viewWeek ? { ...h, days: h.days.map(d => d.id === id ? { ...d, ...updates } : d) } : h)
                    }));
                }
            };

            const finishWeek = () => {
                const extraSavings = config.weeklyAllowance - stats.spentThisWeek;
                const newHistoryItem = { week: data.currentWeek, spent: stats.spentThisWeek, savedExtra: extraSavings, date: new Date().toLocaleDateString(), days: data.days };
                setModal({
                    title: `Finish Week ${data.currentWeek}?`,
                    children: <p>Spent: ‚Ç±{stats.spentThisWeek}<br/>Saved: ‚Ç±{Math.floor(extraSavings)}</p>,
                    onConfirm: () => {
                        setData(prev => ({
                            ...prev, currentWeek: prev.currentWeek + 1,
                            history: [...prev.history, newHistoryItem],
                            days: prev.days.map(d => ({ ...d, food: '', commute: config.commuteCost, isDone: false, carryOver: false, isSkipped: false }))
                        }));
                        setViewWeek(prev => prev + 1);
                        setModal(null);
                        setToast({ message: "Week saved!", type: "success" });
                    },
                    onCancel: () => setModal(null)
                });
            };

            const saveSettings = () => {
                setConfig(tempConfig);
                setSettingsOpen(false);
                setToast({ message: "Settings Updated", type: "success" });
            };

            // Dynamic Budgets for View
            let daysToRender = viewWeek === data.currentWeek ? data.days : (data.history.find(h => h.week === viewWeek)?.days || []);
            if (viewWeek < data.currentWeek && daysToRender.length === 0) daysToRender = [{id:1},{id:2}]; 

            let runningCarryOver = 0;
            const daysWithBudgets = daysToRender.map(day => {
                const budgetForToday = config.dailyLimit + runningCarryOver;
                const spentToday = (parseFloat(day.food)||0) + (parseFloat(day.commute)||0);
                if (day.isDone && day.carryOver) runningCarryOver = Math.max(0, budgetForToday - spentToday);
                else runningCarryOver = 0;
                return { ...day, budgetAvailable: budgetForToday };
            });

            if (isLoading) return <div className="min-h-screen flex items-center justify-center text-white animate-pulse">Loading App...</div>;

            return (
                <div className="w-full max-w-md space-y-6 pb-24 relative">
                    {/* Header */}
                    <div className="flex justify-between items-start">
                        <div className="w-8"></div>
                        <div className="text-center">
                            <h1 className="text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-primary to-accent">Saver Pro</h1>
                            <p className="text-xs text-gray-500">{data.currentWeek > config.semesterWeeks ? `Overtime` : "Semester Goal"}</p>
                        </div>
                        <button onClick={() => { setTempConfig(config); setSettingsOpen(true); }} className="w-8 h-8 flex items-center justify-center rounded-full bg-white/5 hover:bg-white/10 text-gray-400">‚öôÔ∏è</button>
                    </div>

                    {/* CHART SECTION (Collapsible) */}
                    {config.enableChart && (
                        <div className="glass rounded-2xl mb-4 transition-all duration-300 overflow-hidden">
                            <div onClick={() => setIsChartCollapsed(!isChartCollapsed)} className="p-4 flex justify-between items-center cursor-pointer bg-white/5 hover:bg-white/10 active:bg-white/20">
                                <span className="text-xs font-bold text-gray-400 uppercase tracking-wider">Savings Trend</span>
                                <span className={`transform transition-transform duration-300 text-gray-400 ${isChartCollapsed ? '-rotate-90' : 'rotate-0'}`}>‚ñº</span>
                            </div>
                            {!isChartCollapsed && (
                                <div className="p-4 pt-0">
                                    <SavingsChart history={data.history} currentSavings={stats.currentSavings} weeksPassed={stats.weeksPassed} />
                                </div>
                            )}
                        </div>
                    )}

                    {/* Stats Grid */}
                    <div className="grid grid-cols-2 gap-4">
                        <div className="glass p-4 rounded-2xl border-l-4 border-success">
                            <p className="text-gray-400 text-[10px] uppercase font-bold">Current</p>
                            <p className="text-2xl font-bold text-white mt-1">‚Ç±{Math.floor(stats.currentSavings).toLocaleString()}</p>
                        </div>
                        <div className="glass p-4 rounded-2xl border-l-4 border-primary">
                            <p className="text-gray-400 text-[10px] uppercase font-bold">Projected</p>
                            <p className="text-2xl font-bold text-white mt-1">‚Ç±{Math.floor(stats.projectedTotal).toLocaleString()}</p>
                        </div>
                    </div>

                    {/* Tracker Card */}
                    <div className="glass rounded-2xl p-6 relative">
                         <div className="flex justify-between items-center mb-4">
                            <button onClick={() => setViewWeek(prev => Math.max(1, prev - 1))} className={`p-2 rounded-full hover:bg-white/10 ${viewWeek === 1 ? 'opacity-30' : ''}`} disabled={viewWeek === 1}>‚óÄ</button>
                            <div className="text-center">
                                <h2 className="font-bold text-lg text-secondary">Week {viewWeek}</h2>
                                {viewWeek === data.currentWeek ? <p className="text-xs text-gray-400">Pool: <span className="text-white font-bold">‚Ç±{stats.remaining}</span></p> : <span className="text-[10px] bg-yellow-500/20 text-yellow-500 px-2 rounded">HISTORY</span>}
                            </div>
                            <button onClick={() => setViewWeek(prev => Math.min(data.currentWeek, prev + 1))} className={`p-2 rounded-full hover:bg-white/10 ${viewWeek === data.currentWeek ? 'opacity-30' : ''}`} disabled={viewWeek === data.currentWeek}>‚ñ∂</button>
                         </div>

                         <div className="space-y-4 mb-6">
                            {daysWithBudgets.map((day, idx) => {
                                const dailyTotal = (parseFloat(day.food)||0) + (parseFloat(day.commute)||0);
                                return (
                                    <div key={day.id || idx} className={`p-4 rounded-xl border transition-all ${day.isDone ? 'border-success/30 bg-success/5' : 'border-white/5 bg-black/20'}`}>
                                        <div className="flex justify-between items-center mb-3">
                                            <div>
                                                <span className="text-sm font-bold text-gray-200 block">{idx === 0 ? 'Wednesday' : 'Thursday'}</span>
                                                <span className="text-[10px] text-gray-400">Budget: ‚Ç±{day.budgetAvailable}</span>
                                            </div>
                                            <button onClick={() => updateDay(day.id, { isDone: !day.isDone })} className={`text-[10px] px-3 py-1 font-bold rounded-full transition-all ${day.isDone ? 'bg-success text-dark' : 'bg-gray-700'}`}>{day.isDone ? 'DONE' : 'MARK'}</button>
                                        </div>
                                        <div className="grid grid-cols-2 gap-3 mb-3">
                                            <div><label className="text-[10px] text-gray-500 block mb-1">Commute</label><NumberInput value={day.commute} onChange={(val) => updateDay(day.id, {commute: val})} /></div>
                                            <div><label className="text-[10px] text-gray-500 block mb-1">Food</label><NumberInput value={day.food} placeholder="0" onChange={(val) => updateDay(day.id, {food: val})} /></div>
                                        </div>
                                    </div>
                                );
                            })}
                         </div>
                         
                         {viewWeek === data.currentWeek && (
                            <button onClick={finishWeek} disabled={!data.days.every(d => d.isDone)} className="w-full btn-grad text-white font-bold py-3 rounded-xl shadow-lg transform hover:scale-[1.02] transition-transform disabled:opacity-50">Finish Week</button>
                         )}
                    </div>

                    <div className="text-center">
                        <button onClick={() => setSpendModalOpen(true)} className="text-xs text-red-400 border border-red-500/30 px-4 py-2 rounded-full flex items-center gap-2 mx-auto hover:bg-red-500/10">üí∏ Log Unplanned Spend</button>
                    </div>

                    {/* SETTINGS MODAL */}
                    <Modal isOpen={settingsOpen} title="App Settings" confirmText="Save Changes" onConfirm={saveSettings} onCancel={() => setSettingsOpen(false)}>
                        <div className="space-y-4">
                            <div><label className="text-xs text-gray-400">Daily Limit (‚Ç±)</label><input type="number" value={tempConfig.dailyLimit} onChange={(e) => setTempConfig({...tempConfig, dailyLimit: parseInt(e.target.value)})} className="w-full bg-dark border border-gray-600 rounded p-2 text-white" /></div>
                            <div><label className="text-xs text-gray-400">Weekly Allowance (‚Ç±)</label><input type="number" value={tempConfig.weeklyAllowance} onChange={(e) => setTempConfig({...tempConfig, weeklyAllowance: parseInt(e.target.value)})} className="w-full bg-dark border border-gray-600 rounded p-2 text-white" /></div>
                            <div><label className="text-xs text-gray-400">Standard Commute (‚Ç±)</label><input type="number" value={tempConfig.commuteCost} onChange={(e) => setTempConfig({...tempConfig, commuteCost: parseInt(e.target.value)})} className="w-full bg-dark border border-gray-600 rounded p-2 text-white" /></div>
                            
                            {/* Show Chart Toggle */}
                            <div className="flex items-center justify-between pt-2 border-t border-gray-700">
                                <label className="text-sm text-gray-300">Show Savings Chart</label>
                                <div className="relative inline-block w-10 align-middle select-none">
                                    <input type="checkbox" checked={tempConfig.enableChart} onChange={() => setTempConfig({...tempConfig, enableChart: !tempConfig.enableChart})} className="toggle-checkbox absolute block w-5 h-5 rounded-full bg-white border-4 appearance-none cursor-pointer transition-all duration-300 left-0" style={{top: '2px', borderColor: tempConfig.enableChart ? '#68D391' : '#4b5563', right: tempConfig.enableChart ? '0' : 'auto', left: tempConfig.enableChart ? 'auto' : '0'}}/>
                                    <label onClick={() => setTempConfig({...tempConfig, enableChart: !tempConfig.enableChart})} className={`toggle-label block overflow-hidden h-6 rounded-full cursor-pointer transition-colors duration-300 ${tempConfig.enableChart ? 'bg-success' : 'bg-gray-700'}`}></label>
                                </div>
                            </div>
                        </div>
                    </Modal>

                    <Modal isOpen={spendModalOpen} title="Log Spending" confirmText="Log" isDanger={true} onConfirm={() => {
                        const amount = parseFloat(spendAmount);
                        if(amount > 0) {
                             setData(prev => ({ ...prev, totalUnplanned: prev.totalUnplanned + amount, unplannedHistory: [{ id: Date.now(), week: prev.currentWeek, amount, reason: spendReason }, ...prev.unplannedHistory] }));
                             setToast({ message: `Logged -‚Ç±${amount}`, type: "warning" });
                             setSpendModalOpen(false); setSpendAmount(''); setSpendReason('');
                        }
                    }} onCancel={() => setSpendModalOpen(false)}>
                        <div className="space-y-4">
                            <input type="number" value={spendAmount} onChange={(e) => setSpendAmount(e.target.value)} className="w-full bg-dark border border-gray-600 rounded p-2 text-white" placeholder="Amount (‚Ç±)" />
                            <input type="text" value={spendReason} onChange={(e) => setSpendReason(e.target.value)} className="w-full bg-dark border border-gray-600 rounded p-2 text-white" placeholder="Reason" />
                        </div>
                    </Modal>

                    <Modal isOpen={!!modal} title={modal?.title} onConfirm={modal?.onConfirm} onCancel={modal?.onCancel}>{modal?.children}</Modal>
                    {toast && <Toast message={toast.message} type={toast.type} onClose={() => setToast(null)} />}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./service-worker.js').catch(err => console.log('SW failed', err));
            });
        }
    </script>
</body>
</html>
